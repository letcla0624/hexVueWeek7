"use strict";(self["webpackChunkhexVueWeek7"]=self["webpackChunkhexVueWeek7"]||[]).push([[873],{422:function(t,r,e){function s(t){return{all:t=t||new Map,on:function(r,e){var s=t.get(r);s?s.push(e):t.set(r,[e])},off:function(r,e){var s=t.get(r);s&&(e?s.splice(s.indexOf(e)>>>0,1):t.set(r,[]))},emit:function(r,e){var s=t.get(r);s&&s.slice().map((function(t){t(e)})),(s=t.get("*"))&&s.slice().map((function(t){t(r,e)}))}}}e.d(r,{Z:function(){return a}});const i=s();var a=i},7476:function(t,r,e){e.d(r,{Z:function(){return p}});var s=e(3396),i=e(7139);const a={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb"},n={class:"breadcrumb mb-5"},o=["onClick"];function d(t,r,e,d,c,l){return(0,s.wg)(),(0,s.iD)("nav",a,[(0,s._)("ol",n,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(c.breadcrumbList,((t,r)=>((0,s.wg)(),(0,s.iD)("li",{key:r+`_${t}`,class:"breadcrumb-item",onClick:t=>l.routeTo(r)},(0,i.zw)(t.name),9,o)))),128))])])}var c={data(){return{breadcrumbList:[]}},watch:{$route(){this.nowBreadcrumb()}},methods:{nowBreadcrumb(){this.breadcrumbList=this.$route.meta.breadcrumb},routeTo(t){this.breadcrumbList[t].link&&this.$router.push(this.breadcrumbList[t].link)}},mounted(){this.nowBreadcrumb()}},l=e(89);const u=(0,l.Z)(c,[["render",d]]);var p=u},6873:function(t,r,e){e.r(r),e.d(r,{default:function(){return Y}});var s=e(3396),i=e(7139),a=e(9242);const n={class:"container"},o=(0,s._)("h1",{class:"text-center py-3"},"產品內頁",-1),d={class:"row row-cols-1 row-cols-md-2 g-3"},c={class:"col"},l=["src","alt"],u={class:"otherPics d-flex"},p=["src","alt"],m={class:"col"},h={class:"d-flex align-items-center mb-3"},b={class:"h3 mb-0 me-2"},g={class:"badge bg-warning text-dark"},w={class:"h5 text-secondary lh-base"},k={class:"text-end"},f={key:0},v=(0,s.Uk)(" 售價："),y=(0,s._)("b",{class:""},"$NTD",-1),_=(0,s.Uk)(),x={class:"fs-3"},U={key:1,class:"text-end"},$={class:"text-danger fw-bold ms-2"},C=(0,s.Uk)("$NTD "),D={class:"fs-3"},q={class:"d-grid gap-2 d-md-flex"},L={class:"input-group"},z=["disabled"],Z={key:0,class:"spinner-border spinner-border-sm",role:"status"},B=(0,s._)("span",{class:"visually-hidden"},"Loading...",-1),T=[B],N=(0,s.Uk)(" 加入購物車 ");function I(t,r,e,B,I,P){const V=(0,s.up)("BreadComponent");return(0,s.wg)(),(0,s.iD)("div",n,[o,(0,s.Wm)(V),(0,s._)("div",d,[(0,s._)("div",c,[(0,s._)("img",{src:I.prod.imageUrl,alt:I.prod.category,class:"w-100",style:{height:"500px","object-fit":"cover"}},null,8,l),(0,s._)("div",u,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(I.prod.imagesUrl,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:t},[""!==t?((0,s.wg)(),(0,s.iD)("img",{key:0,src:t,alt:`${I.prod.category}${Number.parseInt(e)+1}`,class:(0,i.C_)(["rounded cursor-pointer me-2 mt-2",[{border:t===I.prod.imageUrl},{"border-danger":t===I.prod.imageUrl},{"border-2":t===I.prod.imageUrl}]]),onClick:r[0]||(r[0]=t=>P.changeImg(t))},null,10,p)):(0,s.kq)("",!0)])))),128))])]),(0,s._)("div",m,[(0,s._)("div",h,[(0,s._)("h1",b,(0,i.zw)(I.prod.title),1),(0,s._)("span",g,(0,i.zw)(I.prod.category),1)]),(0,s._)("h2",w,(0,i.zw)(I.prod.description),1),(0,s._)("div",k,[I.prod.price===I.prod.origin_price?((0,s.wg)(),(0,s.iD)("p",f,[v,y,_,(0,s._)("b",x,(0,i.zw)(I.prod.price),1),(0,s.Uk)(" "+(0,i.zw)(I.prod.unit)+" / 元 ",1)])):((0,s.wg)(),(0,s.iD)("p",U,[(0,s._)("del",null,"$NTD "+(0,i.zw)(I.prod.origin_price),1),(0,s._)("span",$,[C,(0,s._)("b",D,(0,i.zw)(I.prod.price),1)]),(0,s.Uk)(" "+(0,i.zw)(I.prod.unit)+" / 元 ",1)]))]),(0,s._)("div",q,[(0,s._)("div",L,[(0,s._)("button",{type:"button",class:"btn btn-dark",onClick:r[1]||(r[1]=(...t)=>P.minus&&P.minus(...t))},"-"),(0,s.wy)((0,s._)("input",{type:"number",class:"form-control",min:"1","onUpdate:modelValue":r[2]||(r[2]=t=>I.qty=t),readonly:""},null,512),[[a.nr,I.qty]]),(0,s._)("button",{type:"button",class:"btn btn-dark",onClick:r[3]||(r[3]=(...t)=>P.add&&P.add(...t))},"+")]),(0,s._)("button",{type:"button",class:"btn btn-warning w-100",onClick:r[4]||(r[4]=t=>P.addCart(I.prod.id,I.qty)),disabled:I.isLoading===I.prod.id},[I.isLoading===I.prod.id?((0,s.wg)(),(0,s.iD)("div",Z,T)):(0,s.kq)("",!0),N],8,z)])])])])}var P=e(422),V=e(7476),W={data(){return{prod:[],qty:1,isLoading:""}},components:{BreadComponent:V.Z},methods:{getProd(){let t=this.$loading.show();const r=this.$route.params.id;this.$http.get(`https://vue3-course-api.hexschool.io/v2/api/letcla/product/${r}`).then((r=>{t.hide(),this.prod=r.data.product,this.prod.imagesUrl.unshift(this.prod.imageUrl)})).catch((r=>{t.hide(),console.dir(r)}))},addCart(t,r=1){this.isLoading=t;const e={product_id:t,qty:r};this.$http.post("https://vue3-course-api.hexschool.io/v2/api/letcla/cart",{data:e}).then((t=>{alert(t.data.message),this.isLoading="",P.Z.emit("get-cart")})).catch((t=>{console.dir(t)}))},add(){this.qty++},minus(){this.qty--,this.qty<=1&&(this.qty=1)},changeImg(t){this.prod.imageUrl=t.target.currentSrc}},mounted(){this.getProd()}},H=e(89);const K=(0,H.Z)(W,[["render",I]]);var Y=K}}]);
//# sourceMappingURL=873.a00774a1.js.map
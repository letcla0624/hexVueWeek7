"use strict";(self["webpackChunkhexVueWeek7"]=self["webpackChunkhexVueWeek7"]||[]).push([[540],{1540:function(e,s,o){o.r(s),o.d(s,{default:function(){return y}});var r=o(3396),a=o(7139),t=o(9242);const l={class:"container d-grid align-items-center"},n={class:"row"},d={class:"col-md-6 offset-md-3 col-xl-4 offset-xl-4"},i={class:"text-center"},u={class:"card border-0 shadow-lg"},m={class:"card-body"},c=(0,r._)("h1",{class:"card-title my-3"},"後台登入",-1),p={class:"form-floating mb-3"},b=(0,r._)("label",{for:"username"},"信箱",-1),h={class:"position-relative"},f={class:"form-floating"},v=(0,r._)("label",{for:"password"},"密碼",-1),w=(0,r._)("button",{class:"btn btn-lg btn-warning w-100 mt-5",type:"submit"},[(0,r.Uk)(" 登入"),(0,r._)("i",{class:"bi bi-box-arrow-in-right ms-2"})],-1),_=(0,r.Uk)("回前台"),g=(0,r._)("p",{class:"mt-5 mb-3 text-muted"},"© 2022 - 威爾",-1);function k(e,s,o,k,x,V){const W=(0,r.up)("VField"),y=(0,r.up)("ErrorMessage"),$=(0,r.up)("VForm"),C=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",l,[(0,r._)("div",n,[(0,r._)("div",d,[(0,r._)("div",i,[(0,r._)("div",u,[(0,r._)("div",m,[c,(0,r.Wm)($,{ref:"form",onSubmit:V.login},{default:(0,r.w5)((({errors:e})=>[(0,r._)("div",p,[(0,r.Wm)(W,{type:"email",name:"信箱",class:(0,a.C_)(["form-control border-0 border-bottom rounded-0",{"is-invalid":e["信箱"]}]),id:"username",placeholder:"name@example.com",rules:"email|required",modelValue:x.user.username,"onUpdate:modelValue":s[0]||(s[0]=e=>x.user.username=e)},null,8,["class","modelValue"]),(0,r.Wm)(y,{name:"信箱",class:"invalid-feedback text-start"}),b]),(0,r._)("div",h,[(0,r._)("div",f,[(0,r.Wm)(W,{type:"password",name:"密碼",class:(0,a.C_)(["form-control border-0 border-bottom rounded-0",{"is-invalid":e["密碼"]}]),id:"password",placeholder:"password",rules:"required|min:4",modelValue:x.user.password,"onUpdate:modelValue":s[1]||(s[1]=e=>x.user.password=e),onKeyup:(0,t.D2)(V.login,["enter"])},null,8,["class","modelValue","onKeyup"]),(0,r.Wm)(y,{name:"密碼",class:"invalid-feedback text-start"}),v])]),w])),_:1},8,["onSubmit"]),(0,r.Wm)(C,{to:"/",class:"btn btn-link text-dark text-decoration-none mt-3"},{default:(0,r.w5)((()=>[_])),_:1})])]),g])])])])}var x={data(){return{user:{username:"",password:""}}},methods:{login(){let e=this.$loading.show();this.$http.post("https://vue3-course-api.hexschool.io/v2/admin/signin",this.user).then((s=>{e.hide();const{token:o,expired:r}=s.data;document.cookie=`token=${o}; expires=${new Date(r)}`,this.$router.push("/admin")})).catch((s=>{e.hide(),console.log(s.response),alert(s.response.message)}))}}},V=o(89);const W=(0,V.Z)(x,[["render",k]]);var y=W}}]);
//# sourceMappingURL=540.91652c99.js.map